# -*- coding: utf-8 -*-
"""groceries.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1wEcHlO7WQ0HgaTyLh_Axn7lfzyNRVekk

# groceries

Use the "Run" button to execute the code.

# Groceries EDA

TODO -objectives


-  pattern findings in food consumption
-  customer consumption
-  highest profit sales
"""

pip install opendatasets --upgrade --quiet

import opendatasets as od

download_url= "https://www.kaggle.com/datasets/mohamedharris/supermart-grocery-sales-retail-analytics-dataset"
od.download(download_url)

data_filename= "./supermart-grocery-sales-retail-analytics-dataset/Supermart Grocery Sales - Retail Analytics Dataset.csv"

"""## Data Preparation and Cleaning

1. Load the file using Pandas
2. Look at some information about the data & the columns
3. Fix any missing or incorrect values
"""

import pandas as pd

df=pd.read_csv(data_filename)
df

df.describe()

df.columns

numerics = ['int16', 'int32', 'int64', 'float16', 'float32', 'float64']

numeric_df = df.select_dtypes(include=numerics)
len(numeric_df.columns)

"""percentage of missing values """

missing_percentage = df.isna().sum().sort_values() / len(df)
missing_percentage

df.info()

"""## Exploratory Analysis and Visualization

Columns we'll analyze:

1. City
3. profit
4. sales
5. category
"""

df.City



cities=df.City.unique()
len(cities)

cities_by_customer=df.City.value_counts()
cities_by_customer

cities_by_customer[:5]

cities_by_customer[:5].plot(kind='barh')

import seaborn as sns
sns.set_style("darkgrid")

sns.histplot(cities_by_customer, log_scale=True)

cities_by_customer[cities_by_customer==1]

df.Category

foods=df.Category.unique()
foods
len(foods)

food_consumption=df.Category.value_counts()
food_consumption

food_consumption.plot(kind='barh')

df.Profit

profits=df.Profit.value_counts()
profits

sort_profit=df.Profit.sort_values()
sort_profit

import matplotlib.pyplot as mp

sns.barplot(x=df.Category,y=df.Profit)

df.Discount.unique()
df.Discount.sort_values()

sns.barplot(x=df.Discount,y=df.Profit)

df.Region

regions=df.Region.value_counts()
regions

regions.plot(kind='barh')

sns.barplot(x=df.Category,y=df.Sales)





"""## Ask & answer questions

1. which food consumption is most by cutomer?
2. Which 5 cities have the highest number of customers? 
3. in term of Discount, which food sold most time? how discount effect the sales?.
6. which region has most sales?

9. which food has the highest profit?

**answer (1)**

snacks has the highest food consumption.

**answer(2)**

1.Kanyakumari   
2.Tirunelveli    
3.Bodi          
4.Krishnagiri    
5.Vellore

**answer(3)**

Above graph shows that discount doesn't effect the sales in that case.

**answer(4)**

west region has most sales all time.

**answer(5)**

meat and fish have highest profit.

## Summary and Conclusion


Insights:
- North region has only sale
- highest sales by meat and fish
- need to investigate the data related question in depth 
- like over the year sales
"""

!pip install jovian
import jovian

jovian.commit()